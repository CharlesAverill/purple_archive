\hypertarget{translate_8c}{}\doxysection{src/translation/translate.c File Reference}
\label{translate_8c}\index{src/translation/translate.c@{src/translation/translate.c}}


Functions for translation to Purple IR.  


{\ttfamily \#include \char`\"{}translation/translate.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{translate_8c_a553059e6f944a8feab73b46568ae5df6}{print\+\_\+registers}} (void)
\item 
void \mbox{\hyperlink{translate_8c_a2c64d3ce9ac9dd1cd2edf634d90403cd}{free\+\_\+all\+\_\+registers}} (void)
\item 
static int \mbox{\hyperlink{translate_8c_a152d19c954a1cf82392f5959ef2d79c7}{allocate\+\_\+register}} (void)
\item 
static void \mbox{\hyperlink{translate_8c_aa4a44dd3678cbdaf71e808e57a74dee8}{add\+\_\+free\+\_\+register}} (int r\+\_\+index)
\item 
static void \mbox{\hyperlink{translate_8c_a57229982869eb60dd2923bcaf7a6fa7c}{initialize\+\_\+translator}} (void)
\item 
static void \mbox{\hyperlink{translate_8c_a7963c933c90d2c80b16a1cec282ac3c5}{exit\+\_\+translator}} (void)
\item 
static int \mbox{\hyperlink{translate_8c_a2fb22694b38507f166a0f86d5ad833a0}{pir\+\_\+load\+\_\+int}} (int value)
\item 
void \mbox{\hyperlink{translate_8c_a3c9d6878ba9bdc7ee17330638ec6f60d}{pir\+\_\+print\+\_\+int}} (int r)
\item 
static int \mbox{\hyperlink{translate_8c_a52944e0eefbb45859b25002bf6c8e001}{pir\+\_\+add}} (int left, int right)
\item 
static int \mbox{\hyperlink{translate_8c_a6e827229d286c08760202c1f685b2c8e}{pir\+\_\+mul}} (int left, int right)
\item 
static int \mbox{\hyperlink{translate_8c_a602d0fc0bb99a0ad39ffd18a16296149}{pir\+\_\+sub}} (int left, int right)
\item 
static int \mbox{\hyperlink{translate_8c_a1d7e118576c99a86d9f3407033a7016b}{pir\+\_\+div}} (int left, int right)
\item 
static void \mbox{\hyperlink{translate_8c_a607568c765b1572d64d1db4b8465391c}{pir\+\_\+enter\+\_\+scope}} (\mbox{\hyperlink{structsymbol__table}{symbol\+\_\+table}} $\ast$symtab)
\item 
static void \mbox{\hyperlink{translate_8c_a9b3d84e19e1d40d56a83ebaad1c797fb}{pir\+\_\+leave\+\_\+scope}} ()
\item 
static int \mbox{\hyperlink{translate_8c_af66d3b903004cab1403bd667e9b0fe4d}{pir\+\_\+load}} (char $\ast$identifier)
\item 
static int \mbox{\hyperlink{translate_8c_ae04fda57d75e84f260af9a0e675294e7}{pir\+\_\+save}} (int r, char $\ast$identifier)
\item 
static int \mbox{\hyperlink{translate_8c_a4f85aac58e965d3a095d5cd9aa489b27}{if\+\_\+ast\+\_\+to\+\_\+pir}} (\mbox{\hyperlink{structAST__Node}{AST\+\_\+\+Node}} $\ast$n)
\item 
static int \mbox{\hyperlink{translate_8c_ac085a598f7d1f587da0c87e4e8187c98}{while\+\_\+ast\+\_\+to\+\_\+pir}} (\mbox{\hyperlink{structAST__Node}{AST\+\_\+\+Node}} $\ast$n)
\item 
int \mbox{\hyperlink{translate_8c_a77fe0335153d1aa2340570df4a1de20d}{ast\+\_\+to\+\_\+pir}} (\mbox{\hyperlink{structAST__Node}{AST\+\_\+\+Node}} $\ast$n, int r, \mbox{\hyperlink{definitions_8h_a2e66bade4cb6bda81365ca377d98b805}{Token\+\_\+\+Type}} previous\+\_\+operation)
\item 
void \mbox{\hyperlink{translate_8c_abc1cc243c646bdfcedbc0db6b8dd55bf}{generate\+\_\+pir}} (\mbox{\hyperlink{structAST__Node}{AST\+\_\+\+Node}} $\ast$root)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static int \mbox{\hyperlink{translate_8c_a407e36a6f93ed3fff85fb256b9c7005f}{LABEL\+\_\+\+INDEX}} = 0
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Functions for translation to Purple IR. 

\begin{DoxyAuthor}{Author}
Charles\+Averill 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
08-\/Oct-\/2021 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{translate_8c_aa4a44dd3678cbdaf71e808e57a74dee8}\label{translate_8c_aa4a44dd3678cbdaf71e808e57a74dee8}} 
\index{translate.c@{translate.c}!add\_free\_register@{add\_free\_register}}
\index{add\_free\_register@{add\_free\_register}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{add\_free\_register()}{add\_free\_register()}}
{\footnotesize\ttfamily static void add\+\_\+free\+\_\+register (\begin{DoxyParamCaption}\item[{int}]{r\+\_\+index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Add register to the array of free registers 
\begin{DoxyParams}{Parameters}
{\em r\+\_\+index} & Index of the register to add \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{translate_8c_a152d19c954a1cf82392f5959ef2d79c7}\label{translate_8c_a152d19c954a1cf82392f5959ef2d79c7}} 
\index{translate.c@{translate.c}!allocate\_register@{allocate\_register}}
\index{allocate\_register@{allocate\_register}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{allocate\_register()}{allocate\_register()}}
{\footnotesize\ttfamily static int allocate\+\_\+register (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Allocates a free register. Exit if there are no remaining registers. \begin{DoxyReturn}{Returns}
The index of the new register 
\end{DoxyReturn}
\mbox{\Hypertarget{translate_8c_a77fe0335153d1aa2340570df4a1de20d}\label{translate_8c_a77fe0335153d1aa2340570df4a1de20d}} 
\index{translate.c@{translate.c}!ast\_to\_pir@{ast\_to\_pir}}
\index{ast\_to\_pir@{ast\_to\_pir}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{ast\_to\_pir()}{ast\_to\_pir()}}
{\footnotesize\ttfamily int ast\+\_\+to\+\_\+pir (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structAST__Node}{AST\+\_\+\+Node}} $\ast$}]{n,  }\item[{int}]{r,  }\item[{\mbox{\hyperlink{definitions_8h_a2e66bade4cb6bda81365ca377d98b805}{Token\+\_\+\+Type}}}]{previous\+\_\+operation }\end{DoxyParamCaption})}

Generates Purple Intermediate Representation (PIR) assembly from a given AST 
\begin{DoxyParams}{Parameters}
{\em n} & The AST Node used to generate PIR \\
\hline
{\em r} & Index of register used to store variables \\
\hline
{\em previous\+\_\+operation} & Operation of the previously-\/analyzed node\textquotesingle{}s parent \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The register containing the value of the AST 
\end{DoxyReturn}
\mbox{\Hypertarget{translate_8c_a7963c933c90d2c80b16a1cec282ac3c5}\label{translate_8c_a7963c933c90d2c80b16a1cec282ac3c5}} 
\index{translate.c@{translate.c}!exit\_translator@{exit\_translator}}
\index{exit\_translator@{exit\_translator}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{exit\_translator()}{exit\_translator()}}
{\footnotesize\ttfamily static void exit\+\_\+translator (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Exit code for the translator including freeing registers and closing the ASM file \mbox{\Hypertarget{translate_8c_a2c64d3ce9ac9dd1cd2edf634d90403cd}\label{translate_8c_a2c64d3ce9ac9dd1cd2edf634d90403cd}} 
\index{translate.c@{translate.c}!free\_all\_registers@{free\_all\_registers}}
\index{free\_all\_registers@{free\_all\_registers}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{free\_all\_registers()}{free\_all\_registers()}}
{\footnotesize\ttfamily void free\+\_\+all\+\_\+registers (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Frees all existing registers by setting their values to 1 \mbox{\Hypertarget{translate_8c_abc1cc243c646bdfcedbc0db6b8dd55bf}\label{translate_8c_abc1cc243c646bdfcedbc0db6b8dd55bf}} 
\index{translate.c@{translate.c}!generate\_pir@{generate\_pir}}
\index{generate\_pir@{generate\_pir}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{generate\_pir()}{generate\_pir()}}
{\footnotesize\ttfamily void generate\+\_\+pir (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structAST__Node}{AST\+\_\+\+Node}} $\ast$}]{root }\end{DoxyParamCaption})}

Handle function for generating ASM \mbox{\Hypertarget{translate_8c_a4f85aac58e965d3a095d5cd9aa489b27}\label{translate_8c_a4f85aac58e965d3a095d5cd9aa489b27}} 
\index{translate.c@{translate.c}!if\_ast\_to\_pir@{if\_ast\_to\_pir}}
\index{if\_ast\_to\_pir@{if\_ast\_to\_pir}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{if\_ast\_to\_pir()}{if\_ast\_to\_pir()}}
{\footnotesize\ttfamily static int if\+\_\+ast\+\_\+to\+\_\+pir (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structAST__Node}{AST\+\_\+\+Node}} $\ast$}]{n }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Generates Purple Intermediate Representation (PIR) assembly from a given if-\/statement AST 
\begin{DoxyParams}{Parameters}
{\em n} & The AST Node used to generate PIR \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
NO\+\_\+\+REGISTER 
\end{DoxyReturn}
\mbox{\Hypertarget{translate_8c_a57229982869eb60dd2923bcaf7a6fa7c}\label{translate_8c_a57229982869eb60dd2923bcaf7a6fa7c}} 
\index{translate.c@{translate.c}!initialize\_translator@{initialize\_translator}}
\index{initialize\_translator@{initialize\_translator}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{initialize\_translator()}{initialize\_translator()}}
{\footnotesize\ttfamily static void initialize\+\_\+translator (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Initialization code for the translator, including setting the functions of \textquotesingle{}generators\textquotesingle{} \mbox{\Hypertarget{translate_8c_a52944e0eefbb45859b25002bf6c8e001}\label{translate_8c_a52944e0eefbb45859b25002bf6c8e001}} 
\index{translate.c@{translate.c}!pir\_add@{pir\_add}}
\index{pir\_add@{pir\_add}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{pir\_add()}{pir\_add()}}
{\footnotesize\ttfamily static int pir\+\_\+add (\begin{DoxyParamCaption}\item[{int}]{left,  }\item[{int}]{right }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

PIR Add Logic 
\begin{DoxyParams}{Parameters}
{\em left} & Index of the left register to add \\
\hline
{\em right} & Index of the right register to add \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Index of the register containing the sum 
\end{DoxyReturn}
\mbox{\Hypertarget{translate_8c_a1d7e118576c99a86d9f3407033a7016b}\label{translate_8c_a1d7e118576c99a86d9f3407033a7016b}} 
\index{translate.c@{translate.c}!pir\_div@{pir\_div}}
\index{pir\_div@{pir\_div}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{pir\_div()}{pir\_div()}}
{\footnotesize\ttfamily static int pir\+\_\+div (\begin{DoxyParamCaption}\item[{int}]{left,  }\item[{int}]{right }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

PIR Integer Division Logic 
\begin{DoxyParams}{Parameters}
{\em left} & Index of the left register to divide \\
\hline
{\em right} & Index of the right register to divide \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Index of the register containing the quotient (left / right) 
\end{DoxyReturn}
\mbox{\Hypertarget{translate_8c_a607568c765b1572d64d1db4b8465391c}\label{translate_8c_a607568c765b1572d64d1db4b8465391c}} 
\index{translate.c@{translate.c}!pir\_enter\_scope@{pir\_enter\_scope}}
\index{pir\_enter\_scope@{pir\_enter\_scope}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{pir\_enter\_scope()}{pir\_enter\_scope()}}
{\footnotesize\ttfamily static void pir\+\_\+enter\+\_\+scope (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsymbol__table}{symbol\+\_\+table}} $\ast$}]{symtab }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

PIR Enter Scope Logic 
\begin{DoxyParams}{Parameters}
{\em symtab} & Symbol table of the new scope \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{translate_8c_a9b3d84e19e1d40d56a83ebaad1c797fb}\label{translate_8c_a9b3d84e19e1d40d56a83ebaad1c797fb}} 
\index{translate.c@{translate.c}!pir\_leave\_scope@{pir\_leave\_scope}}
\index{pir\_leave\_scope@{pir\_leave\_scope}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{pir\_leave\_scope()}{pir\_leave\_scope()}}
{\footnotesize\ttfamily static void pir\+\_\+leave\+\_\+scope (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

PIR Leave Scope Logic \mbox{\Hypertarget{translate_8c_af66d3b903004cab1403bd667e9b0fe4d}\label{translate_8c_af66d3b903004cab1403bd667e9b0fe4d}} 
\index{translate.c@{translate.c}!pir\_load@{pir\_load}}
\index{pir\_load@{pir\_load}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{pir\_load()}{pir\_load()}}
{\footnotesize\ttfamily static int pir\+\_\+load (\begin{DoxyParamCaption}\item[{char $\ast$}]{identifier }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

PIR Load variable logic 
\begin{DoxyParams}{Parameters}
{\em identifier} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The register the value has been loaded into 
\end{DoxyReturn}
\mbox{\Hypertarget{translate_8c_a2fb22694b38507f166a0f86d5ad833a0}\label{translate_8c_a2fb22694b38507f166a0f86d5ad833a0}} 
\index{translate.c@{translate.c}!pir\_load\_int@{pir\_load\_int}}
\index{pir\_load\_int@{pir\_load\_int}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{pir\_load\_int()}{pir\_load\_int()}}
{\footnotesize\ttfamily static int pir\+\_\+load\+\_\+int (\begin{DoxyParamCaption}\item[{int}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Loads an integer into a newly-\/allocated register 
\begin{DoxyParams}{Parameters}
{\em value} & The value to load \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The index of the register 
\end{DoxyReturn}
\mbox{\Hypertarget{translate_8c_a6e827229d286c08760202c1f685b2c8e}\label{translate_8c_a6e827229d286c08760202c1f685b2c8e}} 
\index{translate.c@{translate.c}!pir\_mul@{pir\_mul}}
\index{pir\_mul@{pir\_mul}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{pir\_mul()}{pir\_mul()}}
{\footnotesize\ttfamily static int pir\+\_\+mul (\begin{DoxyParamCaption}\item[{int}]{left,  }\item[{int}]{right }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

PIR Multiply Logic 
\begin{DoxyParams}{Parameters}
{\em left} & Index of the left register to multiply \\
\hline
{\em right} & Index of the right register to multiply \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Index of the register containing the product 
\end{DoxyReturn}
\mbox{\Hypertarget{translate_8c_a3c9d6878ba9bdc7ee17330638ec6f60d}\label{translate_8c_a3c9d6878ba9bdc7ee17330638ec6f60d}} 
\index{translate.c@{translate.c}!pir\_print\_int@{pir\_print\_int}}
\index{pir\_print\_int@{pir\_print\_int}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{pir\_print\_int()}{pir\_print\_int()}}
{\footnotesize\ttfamily void pir\+\_\+print\+\_\+int (\begin{DoxyParamCaption}\item[{int}]{r }\end{DoxyParamCaption})}

PIR Print Int Logic 
\begin{DoxyParams}{Parameters}
{\em r} & Index of the register to print \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{translate_8c_ae04fda57d75e84f260af9a0e675294e7}\label{translate_8c_ae04fda57d75e84f260af9a0e675294e7}} 
\index{translate.c@{translate.c}!pir\_save@{pir\_save}}
\index{pir\_save@{pir\_save}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{pir\_save()}{pir\_save()}}
{\footnotesize\ttfamily static int pir\+\_\+save (\begin{DoxyParamCaption}\item[{int}]{r,  }\item[{char $\ast$}]{identifier }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

PIR Save variable logic 
\begin{DoxyParams}{Parameters}
{\em r} & Register containing value to save \\
\hline
{\em symbol\+\_\+index} & Symbol table index of symbol to save \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Register containing value to save 
\end{DoxyReturn}
\mbox{\Hypertarget{translate_8c_a602d0fc0bb99a0ad39ffd18a16296149}\label{translate_8c_a602d0fc0bb99a0ad39ffd18a16296149}} 
\index{translate.c@{translate.c}!pir\_sub@{pir\_sub}}
\index{pir\_sub@{pir\_sub}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{pir\_sub()}{pir\_sub()}}
{\footnotesize\ttfamily static int pir\+\_\+sub (\begin{DoxyParamCaption}\item[{int}]{left,  }\item[{int}]{right }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

PIR Subtract Logic 
\begin{DoxyParams}{Parameters}
{\em left} & Index of the left register to subtract \\
\hline
{\em right} & Index of the right register to subtract \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Index of the register containing the difference (left -\/ right) 
\end{DoxyReturn}
\mbox{\Hypertarget{translate_8c_a553059e6f944a8feab73b46568ae5df6}\label{translate_8c_a553059e6f944a8feab73b46568ae5df6}} 
\index{translate.c@{translate.c}!print\_registers@{print\_registers}}
\index{print\_registers@{print\_registers}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{print\_registers()}{print\_registers()}}
{\footnotesize\ttfamily void print\+\_\+registers (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Prints the contents of all registers \mbox{\Hypertarget{translate_8c_ac085a598f7d1f587da0c87e4e8187c98}\label{translate_8c_ac085a598f7d1f587da0c87e4e8187c98}} 
\index{translate.c@{translate.c}!while\_ast\_to\_pir@{while\_ast\_to\_pir}}
\index{while\_ast\_to\_pir@{while\_ast\_to\_pir}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{while\_ast\_to\_pir()}{while\_ast\_to\_pir()}}
{\footnotesize\ttfamily static int while\+\_\+ast\+\_\+to\+\_\+pir (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structAST__Node}{AST\+\_\+\+Node}} $\ast$}]{n }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Generates Purple Intermediate Representation (PIR) assembly from a given while-\/statement AST 
\begin{DoxyParams}{Parameters}
{\em n} & The AST Node used to generate PIR \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
NO\+\_\+\+REGISTER 
\end{DoxyReturn}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{translate_8c_a407e36a6f93ed3fff85fb256b9c7005f}\label{translate_8c_a407e36a6f93ed3fff85fb256b9c7005f}} 
\index{translate.c@{translate.c}!LABEL\_INDEX@{LABEL\_INDEX}}
\index{LABEL\_INDEX@{LABEL\_INDEX}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{LABEL\_INDEX}{LABEL\_INDEX}}
{\footnotesize\ttfamily int LABEL\+\_\+\+INDEX = 0\hspace{0.3cm}{\ttfamily [static]}}

