\hypertarget{translate_8h}{}\doxysection{include/translation/translate.h File Reference}
\label{translate_8h}\index{include/translation/translate.h@{include/translation/translate.h}}


Function headers and definitions for translation of PIR into ASM.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include \char`\"{}data.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}definitions.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}parse.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}tree.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}translation/mips.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}translation/x86.\+h\char`\"{}}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structASM__Generators}{ASM\+\_\+\+Generators}}
\begin{DoxyCompactList}\small\item\em Struct containing pointers to the asm-\/generating functions used by the translator. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{translate_8h_ad36c5a508277984c666476e859337196}{n\+\_\+registers}}~4
\item 
\#define \mbox{\hyperlink{translate_8h_a13648bd0247dde89b66613af67f44ab2}{N\+\_\+\+SUPPORTED\+\_\+\+ASM\+\_\+\+MODES}}~2
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef enum \mbox{\hyperlink{translate_8h_a1a79efc86cd54f29203c2106df489c2b}{Assembly\+\_\+\+Mode}} \mbox{\hyperlink{translate_8h_a8bd68feedc2386902ba6dafc3c71342f}{Assembly\+\_\+\+Mode}}
\item 
typedef struct \mbox{\hyperlink{structASM__Generators}{ASM\+\_\+\+Generators}} \mbox{\hyperlink{translate_8h_aea01806c9c00199f1e24df6f171ff7f5}{ASM\+\_\+\+Generators}}
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{translate_8h_a1a79efc86cd54f29203c2106df489c2b}{Assembly\+\_\+\+Mode}} \{ \mbox{\hyperlink{translate_8h_a1a79efc86cd54f29203c2106df489c2ba03b7f32fb426197602cbdf872eb289b3}{X86}}
, \mbox{\hyperlink{translate_8h_a1a79efc86cd54f29203c2106df489c2ba1a8f9b8e9f3c9da2c0936aba678e4b05}{MIPS}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{translate_8h_a2c64d3ce9ac9dd1cd2edf634d90403cd}{free\+\_\+all\+\_\+registers}} (void)
\item 
void \mbox{\hyperlink{translate_8h_a3c9d6878ba9bdc7ee17330638ec6f60d}{pir\+\_\+print\+\_\+int}} (int r)
\item 
void \mbox{\hyperlink{translate_8h_a3f90ce8e72195e87641d48b0bb91d9aa}{pir\+\_\+create\+\_\+global}} (char $\ast$identifier)
\item 
int \mbox{\hyperlink{translate_8h_ae4e91687afb06b0d905e027b2fa20b6e}{ast\+\_\+to\+\_\+pir}} (\mbox{\hyperlink{structAST__Node}{AST\+\_\+\+Node}} $\ast$n, int r)
\item 
void \mbox{\hyperlink{translate_8h_a3b3c28c8c9c6be58552fdbff47614e1d}{generate\+\_\+pir}} (void)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
FILE $\ast$ \mbox{\hyperlink{translate_8h_a3e4e4c22290f59aecd7fc1f0b874a7df}{ASM\+\_\+\+OUTPUT}}
\item 
static int \mbox{\hyperlink{translate_8h_a55433eb735bb85faa4b88ffe56024ffd}{free\+\_\+registers}} \mbox{[}\mbox{\hyperlink{translate_8h_ad36c5a508277984c666476e859337196}{n\+\_\+registers}}\mbox{]}
\item 
static char $\ast$ \mbox{\hyperlink{translate_8h_adf76c673cdc54c77495cb3fecd6e0182}{asm\+\_\+mode\+\_\+names}} \mbox{[}\mbox{\hyperlink{translate_8h_a13648bd0247dde89b66613af67f44ab2}{N\+\_\+\+SUPPORTED\+\_\+\+ASM\+\_\+\+MODES}}\mbox{]} = \{\char`\"{}x86\char`\"{}, \char`\"{}\mbox{\hyperlink{translate_8h_a1a79efc86cd54f29203c2106df489c2ba1a8f9b8e9f3c9da2c0936aba678e4b05}{MIPS}}\char`\"{}\}
\item 
static \mbox{\hyperlink{translate_8h_a1a79efc86cd54f29203c2106df489c2b}{Assembly\+\_\+\+Mode}} \mbox{\hyperlink{translate_8h_ab3981274303b2799394e3088b463624c}{current\+\_\+asm\+\_\+mode}} = -\/1
\item 
\mbox{\hyperlink{structASM__Generators}{ASM\+\_\+\+Generators}} \mbox{\hyperlink{translate_8h_a174b62d940e7da9d15ca4305671bc59a}{generators}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Function headers and definitions for translation of PIR into ASM. 

\begin{DoxyAuthor}{Author}
Charles\+Averill 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
11-\/Oct-\/2021 
\end{DoxyDate}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{translate_8h_ad36c5a508277984c666476e859337196}\label{translate_8h_ad36c5a508277984c666476e859337196}} 
\index{translate.h@{translate.h}!n\_registers@{n\_registers}}
\index{n\_registers@{n\_registers}!translate.h@{translate.h}}
\doxysubsubsection{\texorpdfstring{n\_registers}{n\_registers}}
{\footnotesize\ttfamily \#define n\+\_\+registers~4}

\mbox{\Hypertarget{translate_8h_a13648bd0247dde89b66613af67f44ab2}\label{translate_8h_a13648bd0247dde89b66613af67f44ab2}} 
\index{translate.h@{translate.h}!N\_SUPPORTED\_ASM\_MODES@{N\_SUPPORTED\_ASM\_MODES}}
\index{N\_SUPPORTED\_ASM\_MODES@{N\_SUPPORTED\_ASM\_MODES}!translate.h@{translate.h}}
\doxysubsubsection{\texorpdfstring{N\_SUPPORTED\_ASM\_MODES}{N\_SUPPORTED\_ASM\_MODES}}
{\footnotesize\ttfamily \#define N\+\_\+\+SUPPORTED\+\_\+\+ASM\+\_\+\+MODES~2}



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{translate_8h_aea01806c9c00199f1e24df6f171ff7f5}\label{translate_8h_aea01806c9c00199f1e24df6f171ff7f5}} 
\index{translate.h@{translate.h}!ASM\_Generators@{ASM\_Generators}}
\index{ASM\_Generators@{ASM\_Generators}!translate.h@{translate.h}}
\doxysubsubsection{\texorpdfstring{ASM\_Generators}{ASM\_Generators}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structASM__Generators}{ASM\+\_\+\+Generators}} \mbox{\hyperlink{structASM__Generators}{ASM\+\_\+\+Generators}}}

\mbox{\Hypertarget{translate_8h_a8bd68feedc2386902ba6dafc3c71342f}\label{translate_8h_a8bd68feedc2386902ba6dafc3c71342f}} 
\index{translate.h@{translate.h}!Assembly\_Mode@{Assembly\_Mode}}
\index{Assembly\_Mode@{Assembly\_Mode}!translate.h@{translate.h}}
\doxysubsubsection{\texorpdfstring{Assembly\_Mode}{Assembly\_Mode}}
{\footnotesize\ttfamily typedef enum \mbox{\hyperlink{translate_8h_a1a79efc86cd54f29203c2106df489c2b}{Assembly\+\_\+\+Mode}} \mbox{\hyperlink{translate_8h_a1a79efc86cd54f29203c2106df489c2b}{Assembly\+\_\+\+Mode}}}

Enum defining supported assembly modes 

\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{translate_8h_a1a79efc86cd54f29203c2106df489c2b}\label{translate_8h_a1a79efc86cd54f29203c2106df489c2b}} 
\index{translate.h@{translate.h}!Assembly\_Mode@{Assembly\_Mode}}
\index{Assembly\_Mode@{Assembly\_Mode}!translate.h@{translate.h}}
\doxysubsubsection{\texorpdfstring{Assembly\_Mode}{Assembly\_Mode}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{translate_8h_a1a79efc86cd54f29203c2106df489c2b}{Assembly\+\_\+\+Mode}}}

Enum defining supported assembly modes \begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{X86@{X86}!translate.h@{translate.h}}\index{translate.h@{translate.h}!X86@{X86}}}\mbox{\Hypertarget{translate_8h_a1a79efc86cd54f29203c2106df489c2ba03b7f32fb426197602cbdf872eb289b3}\label{translate_8h_a1a79efc86cd54f29203c2106df489c2ba03b7f32fb426197602cbdf872eb289b3}} 
X86&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{MIPS@{MIPS}!translate.h@{translate.h}}\index{translate.h@{translate.h}!MIPS@{MIPS}}}\mbox{\Hypertarget{translate_8h_a1a79efc86cd54f29203c2106df489c2ba1a8f9b8e9f3c9da2c0936aba678e4b05}\label{translate_8h_a1a79efc86cd54f29203c2106df489c2ba1a8f9b8e9f3c9da2c0936aba678e4b05}} 
MIPS&\\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{translate_8h_ae4e91687afb06b0d905e027b2fa20b6e}\label{translate_8h_ae4e91687afb06b0d905e027b2fa20b6e}} 
\index{translate.h@{translate.h}!ast\_to\_pir@{ast\_to\_pir}}
\index{ast\_to\_pir@{ast\_to\_pir}!translate.h@{translate.h}}
\doxysubsubsection{\texorpdfstring{ast\_to\_pir()}{ast\_to\_pir()}}
{\footnotesize\ttfamily int ast\+\_\+to\+\_\+pir (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structAST__Node}{AST\+\_\+\+Node}} $\ast$}]{n,  }\item[{int}]{r }\end{DoxyParamCaption})}

Generates Purple Intermediate Representation (PIR) assembly from a given AST 
\begin{DoxyParams}{Parameters}
{\em n} & The AST Node used to generate PIR \\
\hline
{\em r} & Index of register used to store variables \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The value of the AST 
\end{DoxyReturn}
\mbox{\Hypertarget{translate_8h_a2c64d3ce9ac9dd1cd2edf634d90403cd}\label{translate_8h_a2c64d3ce9ac9dd1cd2edf634d90403cd}} 
\index{translate.h@{translate.h}!free\_all\_registers@{free\_all\_registers}}
\index{free\_all\_registers@{free\_all\_registers}!translate.h@{translate.h}}
\doxysubsubsection{\texorpdfstring{free\_all\_registers()}{free\_all\_registers()}}
{\footnotesize\ttfamily void free\+\_\+all\+\_\+registers (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Frees all existing registers by setting their values to 1 \mbox{\Hypertarget{translate_8h_a3b3c28c8c9c6be58552fdbff47614e1d}\label{translate_8h_a3b3c28c8c9c6be58552fdbff47614e1d}} 
\index{translate.h@{translate.h}!generate\_pir@{generate\_pir}}
\index{generate\_pir@{generate\_pir}!translate.h@{translate.h}}
\doxysubsubsection{\texorpdfstring{generate\_pir()}{generate\_pir()}}
{\footnotesize\ttfamily void generate\+\_\+pir (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Handle function for generating ASM \mbox{\Hypertarget{translate_8h_a3f90ce8e72195e87641d48b0bb91d9aa}\label{translate_8h_a3f90ce8e72195e87641d48b0bb91d9aa}} 
\index{translate.h@{translate.h}!pir\_create\_global@{pir\_create\_global}}
\index{pir\_create\_global@{pir\_create\_global}!translate.h@{translate.h}}
\doxysubsubsection{\texorpdfstring{pir\_create\_global()}{pir\_create\_global()}}
{\footnotesize\ttfamily void pir\+\_\+create\+\_\+global (\begin{DoxyParamCaption}\item[{char $\ast$}]{identifier }\end{DoxyParamCaption})}

PIR Global variable creation logic NOTE\+: Only generates code for some platforms that support .comm directives 
\begin{DoxyParams}{Parameters}
{\em identifier} & The string defining the name of the variable \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{translate_8h_a3c9d6878ba9bdc7ee17330638ec6f60d}\label{translate_8h_a3c9d6878ba9bdc7ee17330638ec6f60d}} 
\index{translate.h@{translate.h}!pir\_print\_int@{pir\_print\_int}}
\index{pir\_print\_int@{pir\_print\_int}!translate.h@{translate.h}}
\doxysubsubsection{\texorpdfstring{pir\_print\_int()}{pir\_print\_int()}}
{\footnotesize\ttfamily void pir\+\_\+print\+\_\+int (\begin{DoxyParamCaption}\item[{int}]{r }\end{DoxyParamCaption})}

PIR Print Int Logic 
\begin{DoxyParams}{Parameters}
{\em r} & Index of the register to print \\
\hline
\end{DoxyParams}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{translate_8h_adf76c673cdc54c77495cb3fecd6e0182}\label{translate_8h_adf76c673cdc54c77495cb3fecd6e0182}} 
\index{translate.h@{translate.h}!asm\_mode\_names@{asm\_mode\_names}}
\index{asm\_mode\_names@{asm\_mode\_names}!translate.h@{translate.h}}
\doxysubsubsection{\texorpdfstring{asm\_mode\_names}{asm\_mode\_names}}
{\footnotesize\ttfamily char$\ast$ asm\+\_\+mode\+\_\+names\mbox{[}\mbox{\hyperlink{translate_8h_a13648bd0247dde89b66613af67f44ab2}{N\+\_\+\+SUPPORTED\+\_\+\+ASM\+\_\+\+MODES}}\mbox{]} = \{\char`\"{}x86\char`\"{}, \char`\"{}\mbox{\hyperlink{translate_8h_a1a79efc86cd54f29203c2106df489c2ba1a8f9b8e9f3c9da2c0936aba678e4b05}{MIPS}}\char`\"{}\}\hspace{0.3cm}{\ttfamily [static]}}

Names of supported assembly modes \mbox{\Hypertarget{translate_8h_a3e4e4c22290f59aecd7fc1f0b874a7df}\label{translate_8h_a3e4e4c22290f59aecd7fc1f0b874a7df}} 
\index{translate.h@{translate.h}!ASM\_OUTPUT@{ASM\_OUTPUT}}
\index{ASM\_OUTPUT@{ASM\_OUTPUT}!translate.h@{translate.h}}
\doxysubsubsection{\texorpdfstring{ASM\_OUTPUT}{ASM\_OUTPUT}}
{\footnotesize\ttfamily FILE$\ast$ ASM\+\_\+\+OUTPUT\hspace{0.3cm}{\ttfamily [extern]}}

The file pointer for the output assembly file \mbox{\Hypertarget{translate_8h_ab3981274303b2799394e3088b463624c}\label{translate_8h_ab3981274303b2799394e3088b463624c}} 
\index{translate.h@{translate.h}!current\_asm\_mode@{current\_asm\_mode}}
\index{current\_asm\_mode@{current\_asm\_mode}!translate.h@{translate.h}}
\doxysubsubsection{\texorpdfstring{current\_asm\_mode}{current\_asm\_mode}}
{\footnotesize\ttfamily \mbox{\hyperlink{translate_8h_a1a79efc86cd54f29203c2106df489c2b}{Assembly\+\_\+\+Mode}} current\+\_\+asm\+\_\+mode = -\/1\hspace{0.3cm}{\ttfamily [static]}}

Assembly mode to use during compilation \mbox{\Hypertarget{translate_8h_a55433eb735bb85faa4b88ffe56024ffd}\label{translate_8h_a55433eb735bb85faa4b88ffe56024ffd}} 
\index{translate.h@{translate.h}!free\_registers@{free\_registers}}
\index{free\_registers@{free\_registers}!translate.h@{translate.h}}
\doxysubsubsection{\texorpdfstring{free\_registers}{free\_registers}}
{\footnotesize\ttfamily int free\+\_\+registers\mbox{[}\mbox{\hyperlink{translate_8h_ad36c5a508277984c666476e859337196}{n\+\_\+registers}}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

The array defining free registers. If free\+\_\+registers\mbox{[}r1\mbox{]} == 1, r1 is free \mbox{\Hypertarget{translate_8h_a174b62d940e7da9d15ca4305671bc59a}\label{translate_8h_a174b62d940e7da9d15ca4305671bc59a}} 
\index{translate.h@{translate.h}!generators@{generators}}
\index{generators@{generators}!translate.h@{translate.h}}
\doxysubsubsection{\texorpdfstring{generators}{generators}}
{\footnotesize\ttfamily \mbox{\hyperlink{structASM__Generators}{ASM\+\_\+\+Generators}} generators\hspace{0.3cm}{\ttfamily [extern]}}

Struct containing the ASM generator functions for the current compilation 